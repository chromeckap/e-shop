<div class="flex justify-center items-center bg-gray-100">
    <div class="w-full max-w-xl p-6 bg-white rounded-lg shadow-md">
        <h2 class="text-2xl font-semibold text-center text-gray-700">Registrace</h2>

        <form [formGroup]="form">
            <div class="flex flex-col items-center">
                <div class="flex w-3/4 mt-4 gap-4">
                    <div class="w-2/5">
                        <p-floatlabel variant="over" class="w-full">
                            <label for="firstName">Jméno</label>
                            <input id="firstName" pInputText type="text" formControlName="firstName" class="w-full">
                        </p-floatlabel>
                        @if (form.controls['firstName'].invalid && !form.controls['firstName'].untouched) {
                            <span class="text-red-500 text-xs mt-1">Jméno je povinné, minimálně {{minLengthFirstName}} a maximálně {{maxLengthFirstName}} znaků.</span>
                        }
                    </div>
                    <div class="w-3/5">
                        <p-floatlabel variant="over" class="w-full">
                            <label for="lastName">Příjmení</label>
                            <input id="lastName" pInputText type="text" formControlName="lastName" class="w-full">
                        </p-floatlabel>
                        @if (form.controls['lastName'].invalid && !form.controls['lastName'].untouched) {
                            <span class="text-red-500 text-xs mt-1">Příjmení je povinné, minimálně {{minLengthLastName}} a maximálně {{maxLengthLastName}} znaků.</span>
                        }
                    </div>
                </div>

                <p-floatlabel variant="over" class="w-3/4 mt-8">
                    <label for="email">E-mail</label>
                    <input id="email" pInputText type="email" formControlName="email" class="w-full">
                </p-floatlabel>
                @if (form.controls['email'].invalid && !form.controls['email'].untouched) {
                    <span class="text-red-500 text-xs mt-1 w-3/4">E-mail musí být ve správném formátu.</span>
                }
                <p-floatlabel variant="over" class="w-3/4 mt-8">
                    <p-password inputId="password" formControlName="password" type="password"
                                class="w-full"
                                styleClass="p-password p-component p-inputwrapper p-input-icon-right"
                                [style]="{'width':'100%'}"
                                [inputStyle]="{'width':'100%'}"
                                [toggleMask]="true"
                                [feedback]="false"/>
                    <label for="password">Heslo</label>
                </p-floatlabel>
                @if (form.controls['password'].invalid && !form.controls['password'].untouched) {
                    <span class="text-red-500 text-xs mt-1 w-3/4">Je nutné zadat heslo, minimálně {{minLengthPassword}} znaků.</span>
                }

                <p-floatlabel variant="over" class="w-3/4 mt-8">
                    <p-password inputId="confirmPassword" formControlName="confirmPassword" type="password"
                                class="w-full"
                                styleClass="p-password p-component p-inputwrapper p-input-icon-right"
                                [style]="{'width':'100%'}"
                                [inputStyle]="{'width':'100%'}"
                                [toggleMask]="true"
                                [feedback]="false"/>
                    <label for="confirmPassword">Potvrzovací heslo</label>
                </p-floatlabel>
                @if (form.controls['confirmPassword'].invalid && !form.controls['confirmPassword'].untouched) {
                    <span class="text-red-500 text-xs mt-1 w-3/4">Je nutné zadat potvrzovací heslo, minimálně {{minLengthPassword}} znaků.</span>
                } @else if (form.hasError('passwordMismatch') && !form.controls['confirmPassword'].untouched) {
                    <span class="text-red-500 text-xs mt-1 w-3/4">Hesla musí být stejná.</span>
                }

                <div class="mt-4 w-3/4">
                    <p-button label="Registrovat se" icon="pi pi-user-plus" severity="primary"
                              [disabled]="form.invalid"
                              (onClick)="register()"
                              styleClass="w-full"/>
                </div>
            </div>
        </form>

        <div class="mt-6 text-center">
            <p class="text-gray-600">Již máte účet? <a routerLink="/prihlaseni" class="text-primary hover:underline">Přihlásit se</a></p>
        </div>
    </div>
</div>
