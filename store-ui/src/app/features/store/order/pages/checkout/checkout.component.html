<div class="flex flex-col gap-8">
    <app-cart-info
        [showNextButton]="false"
        (cartTotalChange)="onCartTotalChange($event)"/>

    <div class="flex flex-col md:flex-row gap-8">
        <div class="md:w-2/3">
            <div class="flex flex-col gap-8">
                <app-payment-select
                    [form]="form" [cartTotal]="cartTotal"/>
                <app-delivery-select
                    [form]="form" [cartTotal]="cartTotal"/>
                <app-additional-address
                    [form]="form"/>
            </div>
        </div>
        <div class="md:w-1/3 gap-8">
            <div class="flex flex-col gap-4">
                <app-total-order-price [form]="form" [cartTotal]="cartTotal"/>
                <p-button label="Dokončit a vytvořit objednávku" icon="pi pi-plus" styleClass="w-full"
                          [disabled]="form.invalid || cartTotal > MAX_PRODUCT_PRICE"
                          (onClick)="createOrder()"/>
                @if (cartTotal > MAX_PRODUCT_PRICE) {
                    <div class="text-red-500 text-xs mt-1">
                        * Cena produktů přesahuje maximální částku {{MAX_PRODUCT_PRICE | customCurrency: 'CZK'}}.
                    </div>
                }
            </div>
        </div>
    </div>
</div>

